<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<title>Xu hÆ°á»›ng nháº­p kho</title>
	<link rel="icon" type="image/png" th:href="@{/fe/images/warehouse.png}">

	<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
	<style>
	
	</style>
</head>

<body>
	<button class="toggle-btn" onclick="toggleSidebar()">â˜° Thá»‘ng kÃª</button>

	<!-- Sidebar bÃªn pháº£i -->
	<div class="sidebar" id="sidebar">
		<ul>
			<li><a th:href="@{/warehouse/import/thong-ke}" th:classappend="${activeMenu == 'tong-quan'} ? 'active'">ğŸ 
					Tá»•ng quan</a></li>
			<li><a th:href="@{/warehouse/import/thong-ke/tong-gia-tri}"
					th:classappend="${activeMenu == 'tong-gia-tri'} ? 'active'">ğŸ’° Tá»•ng giÃ¡ trá»‹ nháº­p kho</a></li>
			<li><a th:href="@{/warehouse/import/thong-ke/nha-cung-cap}"
					th:classappend="${activeMenu == 'nha-cung-cap'} ? 'active'">ğŸšš Theo nhÃ  cung cáº¥p</a></li>
			<li><a th:href="@{/warehouse/import/thong-ke/danh-muc}"
					th:classappend="${activeMenu == 'danh-muc'} ? 'active'">ğŸ·ï¸ Theo danh má»¥c sáº£n pháº©m</a></li>
			<li><a th:href="@{/warehouse/import/thong-ke/xu-huong}"
					th:classappend="${activeMenu == 'xu-huong'} ? 'active'">ğŸ“… Xu hÆ°á»›ng nháº­p kho</a></li>
		</ul>
	</div>
	<div class="header">ğŸ“… Xu hÆ°á»›ng nháº­p kho</div>
	<div th:replace="/warehouse/import/fragments/navbar :: navbar"></div>

	<form method="GET" action="/warehouse/import/thong-ke/xu-huong">
		<label>NgÃ y báº¯t Ä‘áº§u:</label>
		<input type="date" name="fromDate" th:value="${fromDate}" required>
		<label>NgÃ y káº¿t thÃºc:</label>
		<input type="date" name="toDate" th:value="${toDate}" required>
		<button type="submit">Lá»c</button>
	</form>

	<div id="chart-container">
		<canvas id="trendChart" style="max-height: 300px;"></canvas>

	</div>

	<script th:inline="javascript">
		var labels = /*[[${labels}]]*/[];
		var values = /*[[${values}]]*/[];

		if (labels.length === 0 || values.length === 0) {
			document.getElementById('chart-container').innerHTML =
				"<p style='text-align: center; font-size: 18px; color: red; font-weight: bold;'>KhÃ´ng cÃ³ dá»¯ liá»‡u Ä‘á»ƒ hiá»ƒn thá»‹ biá»ƒu Ä‘á»“.</p>";
		} else {
			var ctx = document.getElementById('trendChart').getContext('2d');
			new Chart(ctx, {
				type: 'line',
				data: {
					labels: labels,
					datasets: [{
						label: 'Sá»‘ lÆ°á»£ng nháº­p kho theo thá»i gian',
						data: values,
						backgroundColor: 'rgba(75, 192, 192, 0.2)',
						borderColor: 'rgba(75, 192, 192, 1)',
						borderWidth: 2
					}]
				},
				options: {
					responsive: true,
					maintainAspectRatio: true, // Äáº£m báº£o tá»‰ lá»‡ khÃ´ng bá»‹ kÃ©o dÃ i
					aspectRatio: 2, // Giáº£m chiá»u dÃ i cá»§a biá»ƒu Ä‘á»“
					plugins: {
						legend: {position: 'top'}
					},
					scales: {
						x: {title: {display: true, text: 'NgÃ y nháº­p kho'}},
						y: {title: {display: true, text: 'Sá»‘ lÆ°á»£ng nháº­p'}, beginAtZero: true}
					}
				}
			});
		}
		function toggleSidebar() {
			var sidebar = document.getElementById("sidebar");
			var mainContent = document.getElementById("mainContent");

			if (sidebar.classList.contains("open")) {
				sidebar.classList.remove("open");
				mainContent.classList.remove("shifted");
			} else {
				sidebar.classList.add("open");
				mainContent.classList.add("shifted");
			}
		}
	</script>
</body>

</html>