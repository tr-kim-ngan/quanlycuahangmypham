<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<title>Hello Seller</title>
	<link rel="icon" type="image/png" th:href="@{/fe/images/sale.png}">

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

	<style>
		table {
			width: 100%;
			border-collapse: collapse;
			background-color: white;
		}

		th,
		td {
			padding: 10px;
			border: 1px solid #ddd;
			text-align: center;
		}

		th {
			background-color: #1f2a40;
			color: white;
		}
	</style>
</head>

<body style="margin: 0; padding: 0; font-family: Arial, sans-serif; background-color: #f4f4f4;">
	<div style=" padding: 20px 40px 10px 250px; display: flex; justify-content: space-between; align-items: center;">
		<!-- B·ªô l·ªçc b√™n tr√°i -->
		<form th:action="@{${searchAction}}" method="get"
			style="display: flex; align-items: center; gap: 12px; flex-wrap: wrap;">
			<label for="status" style="font-weight: bold; margin-bottom: 0;">L·ªçc theo tr·∫°ng th√°i:</label>

			<select name="status" id="status"
				style="padding: 6px 12px; min-width: 180px; border: 1px solid #ccc; border-radius: 4px;">
				<option value="">T·∫•t c·∫£</option>
				<option value="paid" th:selected="${selectedStatus == 'paid'}">ƒê√£ thanh to√°n</option>
				<option value="Ch∆∞a x√°c nh·∫≠n" th:selected="${selectedStatus == 'Ch∆∞a x√°c nh·∫≠n'}">Ch∆∞a thanh to√°n
				</option>
			</select>

			<button type="submit"
				style="padding: 6px 16px; background-color: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer;">
				L·ªçc
			</button>
		</form>

		<!-- Ti√™u ƒë·ªÅ b√™n ph·∫£i -->
		<h2 style="margin: 0; font-size: 24px; font-weight: bold; color: #1f2a40;">
			üìÑ Danh S√°ch H√≥a ƒê∆°n
		</h2>
		<div style=" margin-right: 300px;">

		</div>
	</div>
	<hr style="border: none; height: 1px; background-color: #1f2a40; margin: 0 40px 10px 250px;">



	<div class="container" style="margin-left: 240px; padding: 30px;">
		<div th:replace="seller/fragment/sidebar :: sidebar"></div>



		<div th:if="${errorMessage}" class="alert alert-danger" role="alert">
			<span th:text="${errorMessage}"></span>
		</div>

		<table border="1" cellspacing="0" cellpadding="10" style="width: 100%; background-color: white;">
			<thead style="background-color: #1f2a40; color: white;">
				<tr>
					<th class="text-center">M√£ H√≥a ƒê∆°n</th>
					<th class="text-center">Ng√†y Xu·∫•t</th>
					<th class="text-center">T·ªïng Ti·ªÅn</th>
					<th class="text-center">Ng∆∞·ªùi Nh·∫≠n</th>
					<th class="text-center">Tr·∫°ng Th√°i</th>
					<th class="text-center">Thao T√°c</th>
				</tr>
			</thead>
			<tbody>
				<tr th:if="${hoaDons.isEmpty()}">
					<td colspan="6" class="text-center text-muted">Kh√¥ng t√¨m th·∫•y h√≥a ƒë∆°n n√†o.</td>
				</tr>
				<tr th:each="hoaDon : ${hoaDons}">
					<td class="text-center" th:text="${hoaDon.maHoaDon}"></td>
					<td class="text-center" th:text="${#temporals.format(hoaDon.ngayXuatHoaDon, 'dd/MM/yyyy HH:mm')}">
					</td>
					<td class="text-center">
						<span class="fw-bold"
							th:text="${#numbers.formatDecimal(hoaDon.tongTien, 0, 'COMMA', 0, 'POINT')} + ' ƒë'"></span>
					</td>
					<td class="text-center"
						th:text="${hoaDon.soDienThoaiNhanHang != '0000000000' ? hoaDon.donHang.nguoiDung.hoTen : 'Kh√°ch v√£ng lai'}">
					</td>
					<td class="text-center">
						<span
							th:text="${hoaDon.trangThaiThanhToan == 'Ch∆∞a x√°c nh·∫≠n' ? 'Ch∆∞a thanh to√°n' : 'ƒê√£ thanh to√°n'}"
							th:classappend="${hoaDon.trangThaiThanhToan == 'Ch∆∞a x√°c nh·∫≠n' ? 'text-danger' : 'text-success'}"></span>
						<i
							th:classappend="${hoaDon.trangThaiThanhToan == 'Ch∆∞a x√°c nh·∫≠n' ? 'fa fa-times-circle text-danger' : 'fa fa-check-circle text-success'}"></i>
					</td>
					<td class="text-center">
						<a th:href="@{'/seller/hoadon/' + ${hoaDon.donHang.maDonHang}}" class="btn btn-primary">Xem Chi
							Ti·∫øt</a>
					</td>
				</tr>
			</tbody>
		</table>

		<div style="margin-top: 30px;">
			<nav aria-label="Page navigation">
				<ul class="pagination justify-content-center" style="gap: 6px;">
					<li class="page-item" th:classappend="${currentPage == 0} ? 'disabled'">
						<a th:href="@{|/seller/hoadon?page=${currentPage - 1}&size=${size}|}" class="page-link"
							style="border-radius: 6px;">Tr∆∞·ªõc</a>
					</li>

					<li class="page-item" th:each="i : ${#numbers.sequence(0, totalPages - 1)}"
						th:classappend="${currentPage == i} ? 'active'">
						<a th:href="@{|/seller/hoadon?page=${i}&size=${size}|}" class="page-link"
							style="border-radius: 6px;" th:text="${i + 1}">1</a>
					</li>

					<li class="page-item" th:classappend="${currentPage == totalPages - 1} ? 'disabled'">
						<a th:href="@{|/seller/hoadon?page=${currentPage + 1}&size=${size}|}" class="page-link"
							style="border-radius: 6px;">Sau</a>
					</li>
				</ul>
			</nav>
		</div>

	</div>

</body>

</html>