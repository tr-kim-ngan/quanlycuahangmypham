<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{customer/fragments/head :: head}"></head>

<body>
	<div th:replace="~{customer/fragments/header :: header}"></div>
	<main style="padding: 0px 170px; padding-top: 180px;">
		<div class="container">
			<div th:if="${errorMessage != null and #strings.contains(errorMessage, 'không thành công')}"
				class="alert alert-danger">
				<p th:text="${errorMessage}"></p>
			</div>

			<h3>Đánh Giá Sản Phẩm</h3>
			<div th:if="${sanPham != null}">
				<p><strong>Tên Sản Phẩm:</strong> <span th:text="${sanPham.tenSanPham}"></span></p>

				<form th:action="@{'/customer/hoadon/' + ${hoaDon.maHoaDon} + '/danhgia/' + ${sanPham.maSanPham}}" method="post">

					<input type="hidden" th:value="${sanPham.maSanPham}" name="maSanPham" />
					<div class="mb-3">
						<label for="rating" class="form-label">Số Sao:</label>
						<div class="rating">
							<input type="radio" id="star5" name="rating" value="5" required /><label for="star5">&#9733;</label>
							<input type="radio" id="star4" name="rating" value="4" /><label for="star4">&#9733;</label>
							<input type="radio" id="star3" name="rating" value="3" /><label for="star3">&#9733;</label>
							<input type="radio" id="star2" name="rating" value="2" /><label for="star2">&#9733;</label>
							<input type="radio" id="star1" name="rating" value="1" /><label for="star1">&#9733;</label>
						</div>
					</div>
					<div class="mb-3">
						<label for="comment" class="form-label">Nội Dung Đánh Giá:</label>
						<textarea id="comment" name="comment" class="form-control" rows="4" required></textarea>
					</div>
					<button type="submit" class="btn btn-primary">Gửi Đánh Giá</button>
				</form>
			</div>
		</div>
	</main>
	<div th:replace="~{customer/fragments/footer :: footer}"></div>

	<div th:replace="~{customer/fragments/script :: script}"></div>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

	<!-- CSS for Star Rating -->
	<style>
		.rating {
			display: flex;
			flex-direction: row-reverse;
			justify-content: center;
		}

		.rating input {
			display: none;
		}

		.rating label {
			font-size: 2em;
			color: #ccc;
			cursor: pointer;
		}

		/* Highlight stars when selected */
		.rating input:checked ~ label,
		.rating label:hover,
		.rating label:hover ~ label {
			color: #ffd700;
		}
	</style>

</body>

</html>
